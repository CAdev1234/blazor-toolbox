@using Blz.FormBuilder.Data;
@using Blz.FormBuilder.Controls;
@inherits BaseEditorControl

<h5 style="margin-bottom:20px;">Toolbox</h5>
<div class="toolbox-container">
    <ul id="frmb-1597049564166-control-box" class="frmb-control ui-sortable">
        <li 
            class="icon-autocomplete input-control input-control-0 ui-sortable-handle" 
            data-type="autocomplete"
            draggable="true"
            @ondragstart="OnNewHeaderDragStart"
            @ondragend="OnNewHeaderDragEndEvent"
        >
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-type" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.244 13.081l.943-2.803H6.66l.944 2.803H8.86L5.54 3.75H4.322L1 13.081h1.244zm2.7-7.923L6.34 9.314H3.51l1.4-4.156h.034zm9.146 7.027h.035v.896h1.128V8.125c0-1.51-1.114-2.345-2.646-2.345-1.736 0-2.59.916-2.666 2.174h1.108c.068-.718.595-1.19 1.517-1.19.971 0 1.518.52 1.518 1.464v.731H12.19c-1.647.007-2.522.8-2.522 2.058 0 1.319.957 2.18 2.345 2.18 1.06 0 1.716-.43 2.078-1.011zm-1.763.035c-.752 0-1.456-.397-1.456-1.244 0-.65.424-1.115 1.408-1.115h1.805v.834c0 .896-.752 1.525-1.757 1.525z" />
            </svg>
            <span>Header Control</span>
        </li>
        <li 
            class="icon-button input-control input-control-1 ui-sortable-handle" 
            data-type="button"
            draggable="true"
            @ondragstart="OnNewEntryDragStart"
            @ondragend="OnNewEntryDragEndEvent"
        >
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-input-cursor-text" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M5 2a.5.5 0 0 1 .5-.5c.862 0 1.573.287 2.06.566.174.099.321.198.44.286.119-.088.266-.187.44-.286A4.165 4.165 0 0 1 10.5 1.5a.5.5 0 0 1 0 1c-.638 0-1.177.213-1.564.434a3.49 3.49 0 0 0-.436.294V7.5H9a.5.5 0 0 1 0 1h-.5v4.272c.1.08.248.187.436.294.387.221.926.434 1.564.434a.5.5 0 0 1 0 1 4.165 4.165 0 0 1-2.06-.566A4.561 4.561 0 0 1 8 13.65a4.561 4.561 0 0 1-.44.285 4.165 4.165 0 0 1-2.06.566.5.5 0 0 1 0-1c.638 0 1.177-.213 1.564-.434.188-.107.335-.214.436-.294V8.5H7a.5.5 0 0 1 0-1h.5V3.228a3.49 3.49 0 0 0-.436-.294A3.166 3.166 0 0 0 5.5 2.5.5.5 0 0 1 5 2zm3.352 1.355zm-.704 9.29z" />
                <path d="M10 5h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4v1h4a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-4v1zM6 5V4H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v-1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h4z" />
            </svg>
            <span>Text Entry</span>
        </li>
    </ul>
</div>
@code {
    public List<BaseEditorControl> AllControls { get; set; }
    public BaseEditorControl NewControl { get; set; }
    [Parameter]
    public EventCallback<BaseEditorControl> CreateNewControl { get; set; }
    public ToolboxSide() { }
    [Parameter]
    public EventCallback OnNewHeaderDragEndEvent { get; set; }
    [Parameter]
    public EventCallback OnNewEntryDragEndEvent { get; set; }

    public void OnNewHeaderDragStart()
    {
        //HeaderFormControl newHeaderControl = new HeaderFormControl("New Header Control", "");
        //this.NewControl = newHeaderControl;

    }
    public void OnNewEntryDragStart()
    {
        //TextEntryFormControl newTextEntryControl = new TextEntryFormControl("New TextEntry Control", "");
    }
}
